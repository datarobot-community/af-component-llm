infra_enable_{{ llm_app_name }}:
  env: INFRA_ENABLE_LLM
  type: string
  optional: true
  help: "Select the type of LLM integration to enable."
  options:
    - name: "External LLM"
      value: "blueprint_with_external_llm.py"
    - name: "LLM Gateway"
      value: "gateway_direct.py"
    - name: "LLM Gateway with External Model"
      value: "blueprint_with_llm_gateway.py"
    - name: "DataRobot Deployed LLM"
      value: "deployed_llm.py"
    - name: "Registered Model with an LLM Blueprint"
      value: "registered_model.py"
deployed_llm:
  requires:
    - name: infra_enable_{{ llm_app_name }}
      value: "deployed_llm.py"
  env: TEXTGEN_DEPLOYMENT_ID
  type: string
  optional: false
  help: "The deployment ID of the DataRobot Deployed LLM to use."
registered_model:
  requires:
    - name: infra_enable_{{ llm_app_name }}
      value: "registered_model.py"
  prompts:
    - env: TEXTGEN_REGISTERED_MODEL_ID
      type: string
      optional: false
      help: "The ID of the registered model with an LLM blueprint to use."
    - env: DATAROBOT_TIMEOUT_MINUTES
      type: number
      default: 30
      optional: true
      help: "The timeout in minutes for DataRobot operations. Default is 30 minutes."
llm_model_info:
    requires:
        - name: infra_enable_{{ llm_app_name }}
          value: "blueprint_with_external_llm.py"
    prompts:
        - env: LLM_DEFAULT_MODEL
          type: string
          default: "gpt-3.5-turbo"
          optional: true
          help: "The name of the external LLM model to use."
        - key: llm_provider
          type: string
          default: "OpenAI"
          optional: false
          multiple: true
          options:
            - name: "Azure"
            - name: "Azure with OpenAI"
            - name: "Google"
            - name: "Google VertexAI"
            - name: "Anthropic"
            - name: "Bedrock"
            - name: "Cohere"
            - name: "TogetherAI"
          help: "The provider of the external LLM model. Options are OpenAI, Azure, VertexAI, and/or Anthropic."
azure:
    requires:
      - name: llm_provider
        value: "Azure"
    prompts:
      - env: AZURE_API_KEY
        type: string
        optional: false
        help: "The API key for OpenAI."
      - env: AZURE_API_BASE
        type: string
        optional: false
        help: "The API base URL for OpenAI, usually in the format https://<your_custom_endpoint>.openai.azure.com"
      - env: AZURE_API_DEPLOYMENT_ID
        type: string
        optional: false
        help: "The deployment ID for the OpenAI model."
      - env: AZURE_API_VERSION
        type: string
        optional: false
        help: "The API version for OpenAI."
azure_openai:
    requires:
      - name: llm_provider
        value: "Azure with OpenAI"
    prompts:
      - env: OPENAI_API_KEY
        type: string
        optional: false
        help: "The API key for OpenAI."
      - env: OPENAI_API_BASE
        type: string
        optional: false
        help: "The API base URL for OpenAI, usually in the format https://<your_custom_endpoint>.openai.azure.com"
      - env: OPENAI_API_DEPLOYMENT_ID
        type: string
        optional: false
        help: "The deployment ID for the OpenAI model."
      - env: OPENAI_API_VERSION
        type: string
        optional: false
        help: "The API version for OpenAI."
bedrock:
    requires:
        - name: llm_provider
          value: "Bedrock"
    prompts:
      - env: AWS_ACCESS_KEY_ID
        type: string
        optional: false
        help: "The AWS access key ID for Bedrock."
      - env: AWS_SECRET_ACCESS_KEY
        type: string
        optional: false
        help: "The AWS secret access key for Bedrock."
      - env: AWS_REGION_NAME
        type: string
        optional: false
        help: "The AWS region name for Bedrock, e.g., us-east-1."
google:
    requires:
      - name: llm_provider
        value: "Google"
    prompts:
      - env: GOOGLE_APPLICATION_CREDENTIALS
        type: string
        optional: false
        help: "The path to the Google application credentials JSON file."
      - env: GOOGLE_SERVICE_ACCOUNT
        type: string
        optional: false
        help: "The Google service account email."
vertexai:
    requires:
      - name: llm_provider
        value: "Google VertexAI"
    prompts:
      - env: VERTEXAI_APPLICATION_CREDENTIALS
        type: string
        optional: false
        help: "The path to the VertexAI application credentials JSON file."
      - env: VERTEXAI_SERVICE_ACCOUNT
        type: string
        optional: false
        help: "The Google service account email."
anthropic:
    requires:
      - name: llm_provider
        value: "Anthropic"
    prompts:
      - env: ANTHROPIC_API_KEY
        type: string
        optional: false
        help: "The API key for Anthropic."
cohere:
    requires:
      - name: llm_provider
        value: "Cohere"
    prompts:
      - env: COHERE_API_KEY
        type: string
        optional: false
        help: "The API key for Cohere."
togetherai:
    requires:
      - name: llm_provider
        value: "TogetherAI"
    prompts:
      - env: TOGETHERAI_API_KEY
        type: string
        optional: false
        help: "The API key for TogetherAI."

